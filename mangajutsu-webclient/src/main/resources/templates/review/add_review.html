<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
  <head th:replace="fragments/header :: head"></head>
  <body>
    <header th:replace="fragments/header :: header"></header>
    <main class="page addReview-page">
      <section class="clean-block clean-form dark">
        <div class="container">
          <div class="block-heading">
            <h2 class="text-login" th:text="#{form.add-review.name}"></h2>
          </div>
          <div class="alert alert-danger" role="alert" th:if="${error != null}">
            <p th:text="${error}"></p>
          </div>
          <form
            class="form-group"
            th:action="@{'/review/' + ${title} + '/add-review' + '/'}"
            th:object="${review}"
            method="post"
          >
            <div class="alert alert-danger" th:if="${#fields.hasErrors('*')}">
              <ul>
                <li
                  th:each="err : ${#fields.errors('*')}"
                  th:text="${err}"
                ></li>
              </ul>
            </div>
            <div class="form-group">
              <div class="col select-style">
                <div class="input-group mb-3">
                  <select class="form-control" th:field="*{rating}">
                    <option value="1" label="1"></option>
                    <option value="2" label="2"></option>
                    <option value="3" label="3"></option>
                    <option value="4" label="4"></option>
                    <option value="5" label="5"></option>
                  </select>
                </div>
              </div>
            </div>
            <div class="form-group">
              <textarea
                class="form-control"
                name="content"
                id="editor"
                th:name="content"
                th:field="*{content}"
                rows="10"
                th:value="${review.content}"
                th:placeholder="'3000 max.'"
                th:errorclass="is-invalid"
              ></textarea>
            </div>
            <div class="form-group">
              <button
                type="submit"
                class="btn btn-primary btn-block"
                th:text="#{form.add-review.name}"
              ></button>
            </div>
            <div class="form-group">
              <a
                href="javascript:history.go(-1)"
                class="btn btn-outline-primary btn-block"
                th:text="#{view.button.back}"
              >
              </a>
            </div>
          </form>
        </div>
      </section>
    </main>
    <footer th:replace="fragments/footer :: footer"></footer>
    <div th:replace="fragments/footer :: scripts"></div>
  </body>
</html>
